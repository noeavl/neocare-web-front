<div class="container d-flex flex-column justify-content-between">
    <h1 class="text-center fw-bold">Temperature</h1>

    <div *ngIf="!dataLoaded" class="spinner">
        <mat-spinner></mat-spinner>
    </div>

    <div *ngIf="dataLoaded" class="row">
        <app-card [backgroundColor]="'var(--color-morado)'">
            <div class="card-title">Latest Reading</div>
            <div class="d-flex align-items-center gap-3">
                <div class="card-value">{{ lastData.value }} 째C</div>
                <div class="temperature-indicator"
                     [ngClass]="{
                        'indicator-danger': lastData.value > 37,
                        'indicator-warning': lastData.value >= 35 && lastData.value <= 37,
                        'indicator-success': lastData.value >= 20 && lastData.value < 35,
                        'indicator-info': lastData.value < 20
                     }">
                    <div class="pulse"></div>
                    <mat-icon class="indicator-icon">{{getTemperatureIcon(lastData.value)}}</mat-icon>
                </div>
            </div>
            <div class="card-date"><span class="fw-bold">Date: </span>{{ data.last_reading }}</div>
        </app-card>

        <div class="row m-0 p-0">
            <app-card class="col-12 col-md-6 col-lg-6 mt-3" [backgroundColor]="'var(--color-morado)'">
                <div class="card-title">Max</div>
                <div class="card-value">{{ data.max }} 째C</div>
            </app-card>

            <app-card class="col-12 col-md-6 col-lg mt-3" [backgroundColor]="'var(--color-morado)' ">
                <div class="card-title">Min</div>
                <div class="card-value">{{ data.min }} 째C</div>
            </app-card>
        </div>

        <app-card class="mt-3" [backgroundColor]="'var(--color-morado)' ">
            <div class="card-title">Average</div>
            <div class="card-value">{{ data.average }} 째C</div>
        </app-card>
    </div>
</div>