<app-section-header title="Edit Family Member" [route]="'/dashboard/babies/' + babyId"
    [imgRoute]="'/recursos-web/list-text.png'"></app-section-header>

@if (!dataLoad) {
    <div class="spinner">
        <mat-spinner></mat-spinner>
    </div>
}

@if(dataLoad){
    <div class="mt-3">
        <div class="main-container d-flex align-items-center justify-content-center">
            <app-card>
                <form [formGroup]="form" (ngSubmit)="submit()">
                    <div>
                        <app-input [placeholder]="'Name'" name="name" formControlName="name" type="text" />
                        @if(fieldErrors['name']) {
                        <small class="ms-3 text-danger">{{ fieldErrors['name'] }}</small>
                        }
                    </div>

                    <div class="mt-4">
                        <app-input [placeholder]="'Last Name 1'" name="last_name_1" formControlName="last_name_1" type="text" />
                        @if(fieldErrors['last_name_1']) {
                        <small class="ms-3 text-danger">{{ fieldErrors['last_name_1'] }}</small>
                        }
                    </div>

                    <div class="mt-4">
                        <app-input [placeholder]="'Last Name 2'" name="last_name_2" formControlName="last_name_2" type="text" />
                        @if(fieldErrors['last_name_2']) {
                        <small class="ms-3 text-danger">{{ fieldErrors['last_name_2'] }}</small>
                        }
                    </div>
                    
                    <div class="mt-4">
                        <app-input [placeholder]="'Phone Number'" name="phone_number" formControlName="phone_number" type="text" />
                        @if(fieldErrors['phone_number']) {
                        <small class="ms-3 text-danger">{{ fieldErrors['phone_number'] }}</small>
                        }
                    </div>
                    
                    <div class="mt-4">
                        <app-input [placeholder]="'Email'" name="email" formControlName="email" type="email" />
                        @if(fieldErrors['email']) {
                        <small class="ms-3 text-danger">{{ fieldErrors['email'] }}</small>
                        }
                    </div>
                    
                    <div class="mt-4">
                        <app-button [text]="'Update'" [disabled]="!form.valid" />
                    </div>
                </form>
            </app-card>
        </div>
    </div>
}
<p-toast position="bottom-right" key="br"></p-toast>
